(this.webpackJsonpregister=this.webpackJsonpregister||[]).push([[0],{119:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(27),o=a.n(l),i=a(45),m=a(11),c=a(3),s=function(){return r.a.createElement(c.Container,null,r.a.createElement(c.Card,null,r.a.createElement(c.Row,{style:{textAlign:"center"}},r.a.createElement("h2",null," Associa\xe7\xe3o dos Programadores "),r.a.createElement("h5",null," Registre-se como membro para receber informa\xe7\xf5es de TI toda a semana! ")),r.a.createElement(c.Row,{style:{textAlign:"center"}},r.a.createElement(c.Col,{s:12,m:12},r.a.createElement(c.Col,{s:12,m:6},r.a.createElement("a",{href:"/register/"},r.a.createElement(c.Button,{style:{width:"100%"}}," Registrar "))),r.a.createElement(c.Col,{s:12,m:6},r.a.createElement("a",{href:"/members/"},r.a.createElement(c.Button,{style:{width:"100%"}}," Ver Membros ")))))))},u=a(43),d=a(12),h=a.n(d),p=a(16),g=a(19),E=a(20),b=a(23),f=a(21),v=a(14),y=a(22),C=a(44),x=a.n(C).a.create({baseURL:"https://mediaregisterserver.herokuapp.com"}),w=function(e){function t(e){var a;return Object(g.a)(this,t),(a=Object(b.a)(this,Object(f.a)(t).call(this,e))).habilitarFoto=Object(p.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia){e.next=3;break}return e.next=3,navigator.mediaDevices.getUserMedia({video:!0}).then((function(e){var t=document.getElementById("video");t.style.visibility="visible",t.srcObject=e,t.onloadedmetadata=function(e){t.play()}})).catch((function(e){console.log(e.name+": "+e.message)}));case 3:case"end":return e.stop()}}),e)}))),a.tiraFoto=function(){var e=document.getElementById("canvas"),t=document.getElementById("video");e.getContext("2d").drawImage(t,0,0,320,240),t.pause(),t.style.visibility="hidden",a.setState({photo:e.toDataURL("image/png")})},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(u.a)({},n,r))},a.handleSubmit=Object(p.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.checkValidations(),!1!==a.state.isValid){e.next=3;break}return e.abrupt("return");case 3:return t={user:{name:a.state.name,email:a.state.email,photo:a.state.photo}},e.next=6,x.post("/users",t);case 6:201===e.sent.status&&window.M.toast({html:"Registrado com sucesso!"}),setTimeout((function(){return a.relocation()}),600);case 9:case"end":return e.stop()}}),e)}))),a.relocation=function(){window.location="/"},a.checkValidations=function(){return""===a.state.name?(a.setState({isValid:!1}),window.M.toast({html:"Por favor, preencha o campo nome."}),void document.getElementById("name").focus()):""===a.state.email?(a.setState({isValid:!1}),window.M.toast({html:"Por favor, preencha o campo e-mail."}),void document.getElementById("email").focus()):""===a.state.photo?(a.setState({isValid:!1}),void window.M.toast({html:"Por favor, registre uma foto."})):void a.setState({isValid:!0})},a.clear=function(){var e=document.getElementById("video");e.pause(),e.style.visibility="hidden";var t=document.getElementById("canvas");t.getContext("2d").clearRect(0,0,t.width,t.height),a.setState({name:"",email:"",photo:""})},a.state={name:"",email:"",photo:"",isValid:!0},a.tiraFoto=a.tiraFoto.bind(Object(v.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(v.a)(a)),a.handleChange=a.handleChange.bind(Object(v.a)(a)),a.clear=a.clear.bind(Object(v.a)(a)),a}return Object(y.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){return r.a.createElement(c.Container,null,r.a.createElement(c.Card,{actions:r.a.createElement("a",{href:"/",style:{mouse:"pointer"}}," Voltar ")},r.a.createElement(c.Row,null,r.a.createElement(c.Col,{s:12,m:5},r.a.createElement(c.Col,{s:12,m:12},r.a.createElement("input",{name:"name",id:"name",type:"text",placeholder:"Nome",value:this.state.name,onChange:this.handleChange})),r.a.createElement(c.Col,{s:12,m:12},r.a.createElement("input",{name:"email",id:"email",type:"text",placeholder:"E-mail",value:this.state.email,onChange:this.handleChange})),r.a.createElement(c.Col,{s:12,m:4,style:{textAlign:"center",marginTop:"3px",marginBottom:"3px"}},r.a.createElement(c.Button,{style:{width:"100%"},onClick:this.habilitarFoto}," Habilitar foto ")),r.a.createElement(c.Col,{s:12,m:4,style:{textAlign:"center",marginTop:"3px",marginBottom:"3px"}},r.a.createElement(c.Button,{style:{width:"100%"},onClick:this.clear}," Limpar ")),r.a.createElement(c.Col,{s:12,m:4,style:{textAlign:"center",marginTop:"3px",marginBottom:"3px"}},r.a.createElement(c.Button,{style:{width:"100%"},onClick:this.handleSubmit}," Registrar "))),r.a.createElement(c.Col,{s:12,m:7,style:{textAlign:"center"}},r.a.createElement("div",{style:{marginBottom:"3px",padding:"3px",border:"1px solid grey"}},r.a.createElement("video",{className:"card-image",id:"video",width:"320",height:"240"}),r.a.createElement("canvas",{id:"canvas",width:"320",height:"240"})),r.a.createElement(c.Button,{onClick:this.tiraFoto}," Tira foto ")))))}}]),t}(n.Component),j=function(e){return e.members.map((function(e,t){return r.a.createElement(c.Card,null,r.a.createElement("p",{style:{textAlign:"right"}}," Membro: ",t," "),r.a.createElement(c.Row,{style:{verticalAlign:"middle",marginBottom:"0"}},r.a.createElement(c.Col,{m:2,className:"card-image"},r.a.createElement("img",{style:{borderRadius:"50%"},src:e.photo.profile.url,alt:e.name})),r.a.createElement(c.Col,{m:2,style:{marginTop:"20px"}},r.a.createElement("p",null,r.a.createElement("b",null," ",e.name," "))),r.a.createElement(c.Col,{m:2,style:{marginTop:"20px"}},r.a.createElement("p",null," - ")),r.a.createElement(c.Col,{m:2,style:{marginTop:"20px"}},r.a.createElement("p",null,r.a.createElement("b",null,r.a.createElement("i",null," ",e.email," "))))))}))},B=function(e){function t(e){var a;return Object(g.a)(this,t),(a=Object(b.a)(this,Object(f.a)(t).call(this,e))).getMembers=Object(p.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.get("/users").then((function(e){return e.data}));case 2:t=e.sent,a.setState({members:t});case 4:case"end":return e.stop()}}),e)}))),a.state={members:[]},a}return Object(y.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){this.getMembers()}},{key:"render",value:function(){return r.a.createElement(c.Container,null,r.a.createElement(c.Card,{actions:r.a.createElement("a",{href:"/",styled:{mouse:"pointer"}}," Voltar ")},r.a.createElement(c.Row,{style:{textAlign:"center"}},r.a.createElement(c.Col,{s:12,m:8,offset:"m2"},r.a.createElement(j,{members:this.state.members})))))}}]),t}(n.Component),O=function(){return r.a.createElement(i.a,null,r.a.createElement(m.b,{exact:!0,path:"/mediaregisterclient",render:function(){return r.a.createElement(m.a,{to:"/",component:s})}}),r.a.createElement(m.b,{path:"/mediaregisterclient/register",component:w}),r.a.createElement(m.b,{path:"/members",component:B}))},k=function(){return r.a.createElement("div",null,r.a.createElement(O,null))};o.a.render(r.a.createElement(k,null),document.getElementById("root"))},48:function(e,t,a){e.exports=a(119)}},[[48,1,2]]]);
//# sourceMappingURL=main.0fa5ddf3.chunk.js.map